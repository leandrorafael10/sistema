<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">


    <h:form id="formConciliacao" >
        <p:panel>
            <p:messages/>
            <p:growl life="3000" showDetail="true"/>
            <p:tabView id="tabViewConciliacao"  widgetVar="tab" >
                <p:tab title="Contas" id="tabContas" >
                    <h:panelGrid columns="2"></h:panelGrid>
                    <p:dataTable  value="#{contaBean.contaConciliacaoDataModelo}"
                                  var="contas" 
                                  emptyMessage="sem cadastros"
                                  scrollable="true" 
                                  scrollHeight="600"
                                  selection="#{contaBean.contaConciliacaoData}"
                                  selectionMode="single"
                                  rowKey="#{contas.conta}"
                                  rowIndexVar="index"
                                  id="tabelaContasConciliadas"
                                  >
                        <p:ajax event="rowSelect"  update=":formConciliacao" oncomplete="tab.select(1)"  listener="#{contaBean.contaSelecionada(contaBean.contaConciliacaoData)}"/>  
                         <p:column headerText="Banco"  >
                            #{contas.conta.IDBanco.descricao}
                        </p:column>
                        <p:column headerText="Ag" width="40" >
                            #{contas.conta.agenciaDigito}
                        </p:column>
                        <p:column headerText="conta" width="80">
                            #{contas.conta.numero}-#{contas.conta.numeroDigito}
                        </p:column>
                        <p:column headerText="Titular/nome"  >
                            <h:outputText value="#{contas.conta.titular}"/>
                        </p:column>
                        <p:column headerText="Saldo Prev." width="80">
                            <h:outputText value="#{contas.valorPrevisto.signum() ge 0?contas.valorPrevisto:contas.valorPrevisto*-1}" style="color: #{contas.valorPrevisto gt 0 ?'blue':'red'}">
                                <f:convertNumber  minFractionDigits="2"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Saldo Conc." width="80">
                            <h:outputText value="#{contas.valorConciliado.signum() ge 0?contas.valorConciliado:contas.valorConciliado*-1}" style="color: #{contas.valorConciliado gt 0 ?'blue':'red'}">
                                <f:convertNumber  minFractionDigits="2"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="Saldo a Conc." width="80">
                            <h:outputText value="#{contas.valorAconciliar.signum() ge 0?contas.valorAconciliar:contas.valorAconciliar*-1}" style="color: #{contas.valorAconciliar gt 0 ?'blue':'red'}">
                                <f:convertNumber  minFractionDigits="2"/>
                            </h:outputText>
                        </p:column>
                        <p:column headerText="exibir" width="40">
                            <p:commandLink title="exibir" oncomplete="dialogExibirConta.show()" immediate="true" update=":formConciliacao" >
                                <h:graphicImage library="imagens" name="page_preview-32.png" title="exibir"/>
                                <f:setPropertyActionListener target="#{contaBean.contaConciliacao}" value="#{contas}"/>
                            </p:commandLink>
                        </p:column>

                        <p:column headerText="incluir" width="40">
                            <p:commandLink oncomplete="dialogIncluir.show()" title="incluir" immediate="true" update=":formConciliacao" >
                                <h:graphicImage library="imagens" name="new.png"  title="incluir"/>
                                <f:setPropertyActionListener target="#{contaBean.contaConciliacao}" value="#{contas}"/>
                            </p:commandLink>
                        </p:column>

                    </p:dataTable>
                    <p:dialog widgetVar="dialogIncluir" modal="true">
                        <h:panelGrid columns="2">
                            <h:outputText value="Banco:"/>
                            <h:outputText value="#{contaBean.contaConciliacao.conta.IDBanco.descricao}"/>
                            <h:outputText value="Agencia: "/>
                            <h:outputText value="#{contaBean.contaConciliacao.conta.agencia}"/>
                            <h:outputText value="Agencia numero:"/>
                            <h:outputText value="#{contaBean.contaConciliacao.conta.agenciaDigito}"/>
                            <h:outputText value="Conta numero:"/>
                            <h:outputText value="#{contaBean.contaConciliacao.conta.numero}-#{contaBean.contaConciliacao.conta.numeroDigito}"/>
                            <p:commandButton value="incluir debito" oncomplete="dialogIncluirDebito.show(),dialogIncluir.hide()" immediate="true" update=":formIncluirDeb">
                                <f:setPropertyActionListener target="#{debitoBean.debito.IDConta}" value="#{contaBean.contaConciliacao.conta}"/>
                            </p:commandButton>
                            <p:commandButton value="incluir credito" oncomplete="dialogIncluiCredito.show(),dialogIncluir.hide()" immediate="true"  update=":formIncluirCred" >
                                <f:setPropertyActionListener target="#{creditoBean.credito.IDConta}" value="#{contaBean.contaConciliacao.conta}"/>
                            </p:commandButton>
                        </h:panelGrid>
                    </p:dialog>
                    <p:dialog widgetVar="dialogExibirConta" header="Conta">
                        <p:panelGrid columns="2">
                            <h:outputText value="Banco:"/>
                            <h:outputText value="#{contaBean.contaConciliacao.conta.IDBanco.descricao}"/>
                            <h:outputText value="Agencia: "/>
                            <h:outputText value="#{contaBean.contaConciliacao.conta.agencia}"/>
                            <h:outputText value="Agencia numero:"/>
                            <h:outputText value="#{contaBean.contaConciliacao.conta.agenciaDigito}"/>
                            <h:outputText value="Conta numero:"/>
                            <h:outputText value="#{contaBean.contaConciliacao.conta.numero}-#{contaBean.contaConciliacao.conta.numeroDigito}"/>
                            <h:outputText value="Titular:"/>
                            <h:outputText value="#{contaBean.contaConciliacao.conta.IDPessoa.razao}"/>
                            <h:outputText value="Data abertura"/>
                            <h:outputText value="#{contaBean.contaConciliacao.conta.DTAbertura}">
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </h:outputText>
                            <h:outputText value="saldo conciliado:"/>
                            <h:outputText value="#{contaBean.contaConciliacao.valorConciliado}" styleClass="azul">
                                <f:convertNumber minFractionDigits="2"/>
                            </h:outputText>
                            <h:outputText value="saldo a conciliar:"/>
                            <h:outputText value="#{contaBean.contaConciliacao.valorAconciliar}" styleClass="azul">
                                <f:convertNumber minFractionDigits="2"/>
                            </h:outputText>
                            <h:outputText value="saldo previsto:"/>
                            <h:outputText value="#{contaBean.contaConciliacao.valorPrevisto}" styleClass="azul">
                                <f:convertNumber minFractionDigits="2"/>
                            </h:outputText>
                        </p:panelGrid>
                    </p:dialog>


                </p:tab>
                <p:tab title="Conciliação" id="tabConciliacao" disabled="#{contaBean.tab}">
                    <h:panelGrid columns="2" id="gridFiltro">
                        <p:fieldset legend="Filtro">
                            <h:panelGrid columns="2">
                                <h:outputText value="Banco : #{contaBean.creditoFiltro.IDConta.IDBanco.descricao} / agencia: #{contaBean.creditoFiltro.IDConta.agenciaDigito} / conta:#{contaBean.creditoFiltro.IDConta.numero}-#{contaBean.creditoFiltro.IDConta.numeroDigito}" styleClass="azul"/>
                            </h:panelGrid>
                            <br/>
                            <h:panelGrid columns="4" cellspacing="10" >
                                <h:outputText value="Tipo documento: "/>
                                <p:selectOneMenu converter="documentoConverter" value="#{contaBean.creditoFiltro.IDTpDocumento}" style="min-width: 170px">
                                    <f:selectItem itemLabel=""/>
                                    <f:selectItems var="receitaDocumento"
                                                   value="#{documentoBean.documentos}"
                                                   itemLabel="#{receitaDocumento.descricao}"
                                                   itemValue="#{receitaDocumento}"/>
                                </p:selectOneMenu>
                                <h:outputText value="Atividade financeira: "/>
                                <p:selectOneMenu converter="atividadeConverter" value="#{contaBean.creditoFiltro.IDAtividade}" style="min-width: 170px">
                                    <f:selectItem itemLabel=""/>
                                    <f:selectItems var="receitaAtividade"
                                                   value="#{atividadeBean.atividades}"
                                                   itemLabel="#{receitaAtividade.descricao}"
                                                   itemValue="#{receitaAtividade}"/>
                                </p:selectOneMenu>
                                <h:outputText value="Centro de custo: "/>
                                <p:selectOneMenu converter="ccustoConverter" value="#{contaBean.creditoFiltro.IDCCusto}" style="min-width: 170px">
                                    <f:selectItem itemLabel=""/>
                                    <f:selectItems var="receitaCentro"
                                                   value="#{ccustoBean.ccustos}"
                                                   itemLabel="#{receitaCentro.descricao}"
                                                   itemValue="#{receitaCentro}"/>
                                </p:selectOneMenu> 
                                <h:outputText value="Plano de Contas: "/>
                                <p:selectOneMenu converter="classificacaoConverter" value="#{contaBean.creditoFiltro.IDClassificacao}" style="min-width: 170px">
                                    <f:selectItem itemLabel=""/>
                                    <f:selectItems var="receitaClassificacao"
                                                   value="#{classificacaoBean.classificacaos}"
                                                   itemLabel="#{receitaClassificacao.descricao}"
                                                   itemValue="#{receitaClassificacao}"/>
                                </p:selectOneMenu>
                                <h:outputText value="Situação:"/>
                                <p:selectOneMenu value="#{contaBean.opcFiltroSituacao}" style="min-width:70px">
                                    <f:selectItem itemLabel="tudo" itemValue="1"/>
                                    <f:selectItem itemLabel="conciliado" itemValue="2"/>
                                    <f:selectItem itemLabel="á conciliado" itemValue="3"/>
                                </p:selectOneMenu>
                                <h:outputText value="Tipo:"/>
                                <p:selectOneMenu value="#{contaBean.opcFiltroTipo}" style="min-width: 70px">
                                    <f:selectItem itemLabel="tudo" itemValue="1"/>
                                    <f:selectItem itemLabel="Credito" itemValue="2"/>
                                    <f:selectItem itemLabel="Debito" itemValue="3"/>
                                </p:selectOneMenu>
                            </h:panelGrid>
                        </p:fieldset>
                        <h:panelGrid columns="1">
                            <p:fieldset legend="Filtrar por periodo">
                                <h:panelGrid columns="4">
                                    <h:outputText value="Baixa  de : "/>
                                    <p:calendar  value="#{contaBean.creditoFiltro.DTBaixa}" size="8" pattern="dd/MM/yyyy"/>
                                    <h:outputText value=" até: "/>
                                    <p:calendar size="8"
                                                value="#{contaBean.fimFiltroBaixa}"
                                                pattern="dd/MM/yyyy"/>
                                    <h:outputText value="Concil. de : "/>
                                    <p:calendar  value="#{contaBean.creditoFiltro.DTConciliacao}" size="8" pattern="dd/MM/yyyy"/>
                                    <h:outputText value=" até: "/>
                                    <p:calendar size="8"
                                                value="#{contaBean.fimFiltroConciliacao}"
                                                pattern="dd/MM/yyyy"/>
                                </h:panelGrid>
                            </p:fieldset>
                            <p:fieldset legend="Saldos" id="fieldSaldos">
                                <h:panelGrid columns="2">
                                    <h:outputText value="saldo conciliado : "/>
                                    <h:outputText value="#{contaBean.valorConciliado.signum() ge 0?contaBean.valorConciliado :contaBean.valorConciliado*-1}" styleClass="#{contaBean.valorConciliado.signum()==1?'azul':contaBean.valorConciliado.signum()==0?'azul':'vermelho'}">
                                         <f:convertNumber minFractionDigits="2"/>
                                    </h:outputText >
                                    <h:outputText value="saldo a conciliar :"/>
                                    <h:outputText value="#{contaBean.valorAconciliar.signum() ge 0?contaBean.valorAconciliar:contaBean.valorAconciliar*-1}" styleClass="#{contaBean.valorAconciliar.signum()==1?'azul':contaBean.valorAconciliar.signum()==0?'azul':'vermelho'}">
                                         <f:convertNumber minFractionDigits="2"/>
                                    </h:outputText>
                                    <h:outputText value="saldo previsto: "/>
                                    <h:outputText value="#{contaBean.valorPrevisto.signum() ge 0?contaBean.valorPrevisto:contaBean.valorPrevisto*-1}" styleClass="#{contaBean.valorPrevisto.signum()==1?'azul':contaBean.valorPrevisto.signum()==0?'azul':'vermelho'}">
                                         <f:convertNumber minFractionDigits="2"/>
                                    </h:outputText>
                                </h:panelGrid>
                            </p:fieldset>
                        </h:panelGrid>
                    </h:panelGrid>
                    <p:commandButton value="filtrar" actionListener="#{contaBean.filtroCreditoDebito()}" update="panelFiltroDataTable,gridFiltro"/>
                    <p:commandButton value="listar tudo" actionListener="#{contaBean.contaSelecionada(contaBean.contaConciliacaoData)}" update="panelFiltroDataTable,gridFiltro"/>
                    <p:panel id="panelFiltroDataTable">
                        <p:dataTable value="#{contaBean.creditoDataModelo}" 
                                     var="cred"
                                     emptyMessage="sem cadastros"
                                     scrollable="true" 
                                     scrollHeight="150"
                                     selection="#{contaBean.creditosData}"
                                     rowStyleClass="azul"
                                     resizableColumns="true"
                                     >
                            <f:facet name="header">
                                creditos
                            </f:facet>
                            <p:column selectionMode="multiple" style="width:20px" >
                                  <f:facet name="header" >
                                 
                                </f:facet>
                            </p:column>
                            <p:column >
                                 <f:facet name="header" >
                                  documento
                                </f:facet>
                                <h:outputText value="#{cred.IDTpDocumento.descricao}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header" >
                                    data pagto.
                                </f:facet>
                                <h:outputText value="#{cred.DTBaixa}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column >
                                 <f:facet name="header"  >
                                   dt conc.
                                </f:facet>
                                <h:outputText value="#{cred.DTConciliacao}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column  >
                                <f:facet name="header" >
                                   banco
                                </f:facet>
                                <h:outputText value="#{cred.IDConta.IDBanco.descricao} agencia #{cred.IDConta.agenciaDigito} conta #{cred.IDConta.numero}-#{cred.IDConta.numeroDigito}"/>
                            </p:column>
                            <p:column >
                                <f:facet name="header" >
                                   valor
                                </f:facet>
                                <h:outputText value="#{cred.valor}">
                                    <f:convertNumber minFractionDigits="2"/>
                                </h:outputText>
                            </p:column>
                            <p:column >
                                <f:facet name="header" >
                                  pl. de conta
                                </f:facet>
                               <h:outputText value="#{cred.IDClassificacao.codigo}- #{cred.IDClassificacao.descricao}"/>
                            </p:column>
                        </p:dataTable>
                        <p:dataTable value="#{contaBean.debitoDataModelo}" 
                                     var="deb"
                                     emptyMessage="sem cadastros"
                                     scrollable="true" 
                                     scrollHeight="150"
                                     selection="#{contaBean.debitosData}"
                                     rowStyleClass="vermelho"
                                     resizableColumns="true"
                                     >
                            <f:facet name="header" >
                                debitos 
                            </f:facet>
                            <p:column selectionMode="multiple" style="width:18px">
                                <f:facet name="header" >
                                 
                                </f:facet>
                            </p:column>

                            <p:column >
                                 <f:facet name="header" >
                                 doc
                                </f:facet>
                                <h:outputText value="#{deb.IDTpDocumento.descricao}"/>
                            </p:column>
                            <p:column >
                                 <f:facet name="header" >
                                 data pagto.
                                </f:facet>
                                <h:outputText value="#{deb.DTBaixa}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column >
                                 <f:facet name="header" >
                                 dt concil.
                                </f:facet>
                                <h:outputText value="#{deb.DTConciliacao}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </p:column>
                            <p:column >
                                 <f:facet name="header" >
                                 banco
                                </f:facet>
                                <h:outputText value="#{deb.IDConta.IDBanco.descricao} agencia #{deb.IDConta.agenciaDigito} conta #{deb.IDConta.numero}-#{deb.IDConta.numeroDigito}"/>
                            </p:column>
                            <p:column >
                                 <f:facet name="header" >
                                 valor
                                </f:facet>
                                <h:outputText value="#{deb.valor}">
                                    <f:convertNumber minFractionDigits="2"/>
                                </h:outputText>
                            </p:column>
                            <p:column >
                                 <f:facet name="header" >
                                 pl de conta
                                </f:facet>
                                <h:outputText value="#{deb.IDClassificacao.codigo}- #{deb.IDClassificacao.descricao}"/>
                            </p:column>

                        </p:dataTable>
                        <br/>
                        <p:commandButton value="conciliar" oncomplete="dialogConciliarReg.show()" update="panelFiltroDataTable"/>
                        <p:commandButton value="estornar" oncomplete="dialogCancelarConciliarReg.show()" update="panelFiltroDataTable"/>
                        <p:dialog widgetVar="dialogConciliarReg" modal="true" header="Data conciliação: #{contaBean.datahoje()} " style="color: blue">
                            <p:panel>
                                <h:panelGrid columns="2">
                                    <p:dataTable  value="#{contaBean.creditosData}" var="regCreditos"   rendered="#{!empty contaBean.creditosData}">
                                        <f:facet name="header" >
                                            conciliando creditos 
                                        </f:facet>
                                        <p:column>
                                            <h:outputText value="#{regCreditos.IDConta.IDBanco.descricao}" styleClass="#{regCreditos.DTConciliacao==null?'':'vermelho'}"/> 
                                            <h:outputText value="--" styleClass="#{regCreditos.DTConciliacao==null?'':'vermelho'}"/>
                                            <h:outputText value="#{regCreditos.IDTpDocumento.descricao}"  styleClass="#{regCreditos.DTConciliacao==null?'':'vermelho'}"/>
                                            <h:outputText value="--R$"  styleClass="#{regCreditos.DTConciliacao==null?'':'vermelho'}"/>
                                            <h:outputText value="#{regCreditos.valor}"  styleClass="#{regCreditos.DTConciliacao==null?'':'vermelho'}">
                                                <f:convertNumber minFractionDigits="2" />
                                            </h:outputText>
                                            <h:outputText value="   Já conciliado" rendered="#{regCreditos.DTConciliacao!=null}" styleClass="#{regCreditos.DTConciliacao==null?'':'vermelho'}"/>
                                        </p:column>
                                    </p:dataTable>
                                    <p:dataTable  value="#{contaBean.debitosData}" var="regDebitos" style="color: red"  rendered="#{!empty contaBean.debitosData}">
                                        <f:facet name="header" >
                                            conciliando  debitos 
                                        </f:facet>
                                        <p:column>
                                            <h:outputText value="#{regDebitos.IDConta.IDBanco.descricao}"  styleClass="#{regDebitos.DTConciliacao==null?'':'vermelho'}"/>
                                            <h:outputText value="--"  styleClass="#{regDebitos.DTConciliacao==null?'':'vermelho'}"/>
                                            <h:outputText value="#{regDebitos.IDTpDocumento.descricao}"  styleClass="#{regDebitos.DTConciliacao==null?'':'vermelho'}"/>
                                            <h:outputText value="--R$"  styleClass="#{regDebitos.DTConciliacao==null?'':'vermelho'}"/>
                                            <h:outputText value="#{regDebitos.valor}"  styleClass="#{regDebitos.DTConciliacao==null?'':'vermelho'}">
                                                <f:convertNumber minFractionDigits="2" />
                                            </h:outputText>
                                            <h:outputText value="   Já conciliado" rendered="#{regDebitos.DTConciliacao!=null}" styleClass="#{regDebitos.DTConciliacao==null?'':'vermelho'}"/>
                                        </p:column>    
                                    </p:dataTable>
                                </h:panelGrid>
                                <br/>
                                <p:commandButton value="confirmar" actionListener="#{contaBean.conciliar(event)}" update="panelFiltroDataTable,fieldSaldos,:formConciliacao" oncomplete="dialogConciliarReg.hide()"/>
                                <p:commandButton value="sair" oncomplete="dialogConciliarReg.hide()" />
                            </p:panel>
                        </p:dialog>
                        <p:dialog widgetVar="dialogCancelarConciliarReg" modal="true" header="Data cancelamento conciliação: #{contaBean.datahoje()} " style="color: blue">
                            <p:panel>
                                <h:panelGrid columns="2">
                                    <p:dataTable  value="#{contaBean.creditosData}" var="regCreditos"   rendered="#{!empty contaBean.creditosData}">
                                        <f:facet name="header" >
                                            Cancelando conciliação de creditos 
                                        </f:facet>
                                        <p:column>
                                            <h:outputText value="#{regCreditos.IDConta.IDBanco.descricao}" styleClass="#{regCreditos.DTConciliacao==null?'vermelho':''}"/> 
                                            <h:outputText value="--" styleClass="#{regCreditos.DTConciliacao==null?'vermelho':''}"/>
                                            <h:outputText value="#{regCreditos.IDTpDocumento.descricao}" styleClass="#{regCreditos.DTConciliacao==null?'vermelho':''}"/>
                                            <h:outputText value="--R$" styleClass="#{regCreditos.DTConciliacao==null?'vermelho':''}"/>
                                            <h:outputText value="#{regCreditos.valor}" styleClass="#{regCreditos.DTConciliacao==null?'vermelho':''}">
                                                <f:convertNumber minFractionDigits="2" />
                                            </h:outputText>
                                            <h:outputText value="   não conciliado" rendered="#{regCreditos.DTConciliacao==null}" styleClass="#{regCreditos.DTConciliacao==null?'vermelho':''}"/>
                                        </p:column>
                                    </p:dataTable>
                                    <p:dataTable    value="#{contaBean.debitosData}" var="regDebitos" style="color: red"  rendered="#{!empty contaBean.debitosData}">
                                        <f:facet name="header" >
                                            Cancelando conciliação de debitos 
                                        </f:facet>
                                        <p:column>
                                            <h:outputText value="#{regDebitos.IDConta.IDBanco.descricao}" styleClass="#{regDebitos.DTConciliacao==null?'vermelho':''}"/>
                                            <h:outputText value="--" styleClass="#{regDebitos.DTConciliacao==null?'vermelho':''}"/>
                                            <h:outputText value="#{regDebitos.IDTpDocumento.descricao}" styleClass="#{regDebitos.DTConciliacao==null?'vermelho':''}"/>
                                            <h:outputText value="--R$" styleClass="#{regDebitos.DTConciliacao==null?'vermelho':''}"/>
                                            <h:outputText value="#{regDebitos.valor}" styleClass="#{regDebitos.DTConciliacao==null?'vermelho':''}">
                                                <f:convertNumber minFractionDigits="2" />
                                            </h:outputText>
                                            <h:outputText value="   não conciliado" rendered="#{regDebitos.DTConciliacao==null}" styleClass="#{regDebitos.DTConciliacao==null?'vermelho':''}"/>
                                        </p:column>    
                                    </p:dataTable>
                                </h:panelGrid>
                                <p:commandButton value="confirmar" actionListener="#{contaBean.cancelarConciliacao(event)}" update="panelFiltroDataTable,fieldSaldos,:formConciliacao" oncomplete="dialogCancelarConciliarReg.hide()"/>
                                <p:commandButton value="sair" oncomplete="dialogCancelarConciliarReg.hide()" />
                            </p:panel>
                        </p:dialog>
                    </p:panel>
                </p:tab>
            </p:tabView>
        </p:panel> 

    </h:form>
    <h:form id="formContaConciliacao">

    </h:form>
    <h:form id="formIncluirCred">
        <p:dialog widgetVar="dialogIncluiCredito" modal="true" header="#{creditoBean.credito.IDConta.IDBanco.descricao} agencia #{creditoBean.credito.IDConta.agenciaDigito} conta #{creditoBean.credito.IDConta.numero}-#{creditoBean.credito.IDConta.numeroDigito}">
            <p:panel id="panelIncluirCredito">
                <p:messages/>
                <p:panel header="Incluir credito">
                    <p:growl life="3000" showDetail="true"/>

                    <h:outputText value="Atividade financeira: "/>
                    <p:selectOneMenu value="#{creditoBean.credito.IDAtividade}" converter="atividadeConverter" required="true" requiredMessage="atividade e obrigatorio!">
                        <f:selectItem itemLabel="" />
                        <f:selectItems value="#{atividadeBean.atividades}"
                                       var="atividade"
                                       itemLabel="#{atividade.descricao}"
                                       itemValue="#{atividade}"/>
                    </p:selectOneMenu>&nbsp;&nbsp;&nbsp;&nbsp;
                    <h:outputText value="Plano de Contas: "/>
                    <p:selectOneMenu value="#{creditoBean.credito.IDClassificacao}" converter="classificacaoConverter" required="true" requiredMessage="plano de contas e obrigatorio!">
                        <f:selectItem itemLabel=""/>
                        <f:selectItems value="#{classificacaoBean.classificacaos}"
                                       var="classificacao"
                                       itemLabel="#{classificacao.descricao}"
                                       itemValue="#{classificacao}"/>
                    </p:selectOneMenu>
                    <br/>
                    <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    <h:outputText value="Centro de Custos: "/>
                    <p:selectOneMenu value="#{creditoBean.credito.IDCCusto}" converter="ccustoConverter" required="true" requiredMessage="centro de custos e obrigatorio!">
                        <f:selectItem itemLabel=""/>
                        <f:selectItems value="#{ccustoBean.ccustos}"
                                       var="ccustos"
                                       itemLabel="#{ccustos.descricao}"
                                       itemValue="#{ccustos}"/>
                    </p:selectOneMenu>&nbsp;&nbsp;&nbsp;&nbsp;
                    <h:outputText value="Tipo de documento: "/>
                    <p:selectOneMenu value="#{creditoBean.credito.IDTpDocumento}" converter="documentoConverter" required="true" requiredMessage="atividade e obrigatorio!">
                        <f:selectItem itemLabel="" />
                        <f:selectItems value="#{documentoBean.documentos}"
                                       var="documento"
                                       itemLabel="#{documento.descricao}"
                                       itemValue="#{documento}"/>
                    </p:selectOneMenu>&nbsp;&nbsp;&nbsp;
                    <h:outputText value="Numero: "/>
                    <p:inputText value="#{creditoBean.credito.numero}" maxlength="30" required="true" requiredMessage="numero documento e obrigatorio!(Dinheiro coloque 0)"/>

                    <br/>
                    <br/>

                    <h:outputText value="Data Baixa: "/>
                    <p:calendar value="#{creditoBean.credito.DTBaixa}"
                                required="true"
                                requiredMessage="data de baixa e obrigatorio"
                                showOn="button"
                                pattern="dd/MM/yyyy"
                                size="8"/>
                    <h:outputText value="Data Conciliação: "/>
                    <p:calendar value="#{creditoBean.credito.DTConciliacao}"
                                showOn="button"
                                pattern="dd/MM/yyyy"
                                size="8"/>
                    <br/>
                    <br/>

                    <h:outputText value="Valor: "/>
                    <p:inputText value="#{creditoBean.credito.valor}" size="8" maxlength="8" required="true" requiredMessage="valor e obrigatorio!">
                        <f:convertNumber minFractionDigits="2" />
                    </p:inputText>

                    <br/>
                    <br/>

                    <h:outputText value="Observações: "/>
                    <br/>
                    <p:inputTextarea rows="6" cols="33"  maxlength="150" style="width: 600px; height: 50px"/>
                </p:panel>
                <p:commandLink title="confirmar" actionListener="#{contaBean.incluirCredito(creditoBean.credito)}" update="panelIncluirCredito" >
                    <h:graphicImage library="imagens" name="tick.png"/>
                    <h:outputText value="confirmar"/>
                </p:commandLink>&nbsp;&nbsp;&nbsp;&nbsp;
                <p:commandLink title="cancelar" onclick="dialogIncluiCredito.hide()">
                    <h:graphicImage library="imagens" name="Cancel_48x48.png.png"/>
                    <h:outputText value="cancelar"/>
                </p:commandLink>
            </p:panel>
        </p:dialog>
    </h:form>
    <h:form id="formIncluirDeb">

        <p:dialog widgetVar="dialogIncluirDebito" modal="true" header="#{debitoBean.debito.IDConta.IDBanco.descricao} agencia #{debitoBean.debito.IDConta.agenciaDigito} conta #{debitoBean.debito.IDConta.numero}-#{debitoBean.debito.IDConta.numeroDigito}">
            <p:panel id="panelIncluirDebito">
                <p:messages/>
                <p:panel header="Incluir debito">
                    <p:growl life="3000" showDetail="true"/>
                    <h:outputText value="Atividade financeira: "/>
                    <p:selectOneMenu value="#{debitoBean.debito.IDAtividade}" converter="atividadeConverter" required="true" requiredMessage="atividade e obrigatório!" >
                        <f:selectItem itemLabel="" />
                        <f:selectItems value="#{atividadeBean.atividades}"
                                       var="atividade"
                                       itemLabel="#{atividade.descricao}"
                                       itemValue="#{atividade}"/>
                    </p:selectOneMenu>&nbsp;&nbsp;&nbsp;&nbsp;
                    <h:outputText value="Plano de Contas: "/>
                    <p:selectOneMenu value="#{debitoBean.debito.IDClassificacao}" converter="classificacaoConverter" required="true" requiredMessage="plano de contas e obrigatório!">
                        <f:selectItem itemLabel=""/>
                        <f:selectItems value="#{classificacaoBean.classificacaos}"
                                       var="classificacao"
                                       itemLabel="#{classificacao.descricao}"
                                       itemValue="#{classificacao}"/>
                    </p:selectOneMenu>
                    <br/>
                    <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    <h:outputText value="Centro de Custos: "/>
                    <p:selectOneMenu value="#{debitoBean.debito.IDCCusto}" converter="ccustoConverter" required="true" requiredMessage="centro de custos e obrigatório!">
                        <f:selectItem itemLabel=""/>
                        <f:selectItems value="#{ccustoBean.ccustos}"
                                       var="ccustos"
                                       itemLabel="#{ccustos.descricao}"
                                       itemValue="#{ccustos}"/>
                    </p:selectOneMenu>&nbsp;&nbsp;&nbsp;&nbsp;
                    <h:outputText value="Tipo de documento: "/>
                    <p:selectOneMenu value="#{debitoBean.debito.IDTpDocumento}" converter="documentoConverter" required="true" requiredMessage="documento e obrigatório!">
                        <f:selectItem itemLabel="" />
                        <f:selectItems value="#{documentoBean.documentos}"
                                       var="documento"
                                       itemLabel="#{documento.descricao}"
                                       itemValue="#{documento}"/>
                    </p:selectOneMenu>&nbsp;&nbsp;&nbsp;
                    <h:outputText value="Numero: "/>
                    <p:inputText value="#{debitoBean.debito.numero}" maxlength="30" size="15" required="true" requiredMessage="numero documento e obrigatório!(dinheiro coloque 0)"/>

                    <br/>
                    <br/>
                    <h:outputText value="Data Baixa: "/>
                    <p:calendar value="#{debitoBean.debito.DTBaixa}"
                                required="true"
                                requiredMessage="data de baixa e obrigatorio"
                                showOn="button"
                                pattern="dd/MM/yyyy"
                                size="8"/>
                    <h:outputText value="Data Conciliação: "/>
                    <p:calendar value="#{debitoBean.debito.DTConciliacao}"
                                showOn="button"
                                pattern="dd/MM/yyyy"
                                size="8"/>
                    <br/>
                    <br/>

                    <h:outputText value="Valor: "/>
                    <p:inputText value="#{debitoBean.debito.valor}" size="8" maxlength="8" required="true" requiredMessage="valor e obrigatório!">
                        <f:convertNumber minFractionDigits="2"/>
                    </p:inputText>
                    <br/>
                    <br/>

                    <h:outputText value="Observações: "/>
                    <br/>
                    <p:inputTextarea rows="6" cols="33"  maxlength="150" style="width: 600px; height: 50px"/>
                </p:panel>
                <p:commandLink title="confirmar" actionListener="#{contaBean.incluirDebito(debitoBean.debito)}" update="panelIncluirDebito" >
                    <h:graphicImage library="imagens" name="tick.png"/>
                    <h:outputText value="confirmar"/>

                </p:commandLink>&nbsp;&nbsp;&nbsp;&nbsp;
                <p:commandLink title="cancelar" onclick="dialogIncluirDebito.hide();">
                    <h:graphicImage library="imagens" name="Cancel_48x48.png.png"/>
                    <h:outputText value="cancelar"/>
                </p:commandLink>
            </p:panel>
        </p:dialog>
    </h:form>

</html>
